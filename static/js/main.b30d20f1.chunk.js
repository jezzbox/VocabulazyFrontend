(this["webpackJsonpvocabulazy-app"]=this["webpackJsonpvocabulazy-app"]||[]).push([[0],{32:function(e,t,r){},34:function(e,t,r){},51:function(e,t,r){},52:function(e,t,r){"use strict";r.r(t);var c=r(1),n=r(23),a=r.n(n),s=(r(32),r(3)),o=r.n(s),l=r(12),i=r(5),d=r(2),u=r(4),j=r(6),b=(r(34),r(0)),h=function(e){var t=e.isAuthenticated,r=e.isLoading;return Object(b.jsxs)("nav",{className:" border-terraCotta-500 border-2 m-4 flex justify-end items-end p-2  rounded-full",children:[Object(b.jsx)(u.b,{className:" text-xl hover:text-viola-600",to:"\\",children:"About"}),r||!t?Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(u.b,{className:" ml-5 text-xl hover:text-viola-600",to:"\\",children:"Log in"}),Object(b.jsx)(u.b,{className:" ml-5 text-xl hover:text-viola-600",to:"\\",children:"Sign up"})]}):Object(b.jsx)(u.b,{className:" ml-5 text-xl hover:text-viola-600",to:"\\",children:"Log out"})]})},f=r.p+"static/media/vocabulazy-logo.49aec4d6.svg",x=function(e){var t=e.isAuthenticated,r=e.isLoading;return Object(b.jsxs)("header",{className:"flex flex-wrap justify-center sm:justify-between h-78 md:h-20 ",children:[Object(b.jsxs)("div",{className:"flex items-center h-20",children:[Object(b.jsx)("div",{children:Object(b.jsx)("img",{className:"object-contain p-2 h-20",src:f,alt:"logo"})}),Object(b.jsx)("h1",{className:"text-center text-viola-600 text-5xl p-2",children:"VocabuLazy"})]}),Object(b.jsx)(h,{isAuthenticated:t,isLoading:r})]})};x.defaultProps={title:"Vocabulazy"};var O=x,p=r(14),m=function(e){var t=e.className,r=Object(p.b)().loginWithRedirect;return Object(b.jsx)("button",{className:t,onClick:function(){return r()},children:"Log In"})},v=function(e){var t=e.text,r=e.onClick,c=e.className;return Object(b.jsx)("button",{onClick:r,className:c,children:t})};v.defaultProps={className:"btn"};var g=v,k=function(){return Object(b.jsxs)("article",{children:[Object(b.jsx)("header",{className:"flex justify-center p-6",children:Object(b.jsx)("h1",{className:"text-center text-5xl",children:"Welcome to VocabuLazy!"})}),Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("div",{className:"flex justify-center p-6",children:Object(b.jsx)("p",{className:"text-xl",children:"VocabuLazy is a flashcard app based on Anki specifically for Spanish vocabulary."})}),Object(b.jsxs)("div",{className:"flex justify-center",children:[Object(b.jsx)(m,{className:"btn border-2 shadow-md border-terraCotta-500 hover:bg-terraCotta-400 hover:shadow-inner ml-2"}),Object(b.jsx)(g,{className:"btn border-2 shadow-md border-terraCotta-500 hover:bg-terraCotta-400 hover:shadow-inner ml-2",text:"Try it out"})]})]})]})},w=function(e){var t=e.flashcard,r=e.showVerb,c=Math.floor(t.startTime/6e3),n=c+":"+Math.floor(t.startTime/100-60*c);return Object(b.jsxs)("div",{children:[Object(b.jsxs)("h1",{children:[t.spanishPhrase," ",Object(b.jsx)("em",{children:Object(b.jsxs)("strong",{children:["(",t.word,")"]})})]}),r&&Object(b.jsx)("h2",{children:t.englishPhrase}),r&&"verb"===t.wordType&&Object(b.jsxs)("h2",{children:[t.word," - ",t.conjugationTense," ",t.conjugationForm," ",t.conjugationType]}),r&&"verb"===t.wordType&&Object(b.jsxs)("h2",{children:[t.showTitle," - Season ",t.seasonNumber,", episode ",t.episodeNumber,", start time ",n," Mins"]})]})},y={verb:{id:"verbId",flashcard:"verbFlashcards",wordType:"verb"},adjective:{id:"adjectiveId",flashcard:"adjectiveFlashcards",wordType:"adjective"},adverb:{id:"adverbId",flashcard:"adverbFlashcards",wordType:"adverb"},noun:{id:"nounId",flashcard:"nounFlashcards",wordType:"noun"},preposition:{id:"prepositionId",flashcard:"prepositionFlashcards",wordType:"preposition"},pronoun:{id:"pronounId",flashcard:"pronounFlashcards",wordType:"pronoun"},conjunction:{id:"conjunctionId",flashcard:"conjunctionFlashcards",wordType:"conjunction"},article:{id:"articleId",flashcard:"articleFlashcards",wordType:"article"}},N=function(){var e=Object(i.a)(o.a.mark((function e(t){var r,c,n,a,s,l,i,d=arguments;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=d.length>1&&void 0!==d[1]?d[1]:"GET",c=d.length>2&&void 0!==d[2]?d[2]:[],e.prev=2,n="https://api.vocabulazy.net/","GET"!==r){e.next=14;break}return e.next=7,fetch(n+t);case 7:return a=e.sent,e.next=10,a.json();case 10:return s=e.sent,e.abrupt("return",{dataFromServer:s,error:null});case 14:if("DELETE"!==r){e.next=20;break}return e.next=17,fetch(n+t,{method:"DELETE"});case 17:return e.abrupt("return",{dataFromServer:[],error:null});case 20:return e.next=22,fetch(n+t,{method:r,headers:{"Content-type":"application/json"},body:JSON.stringify(c)});case 22:return l=e.sent,e.next=25,l.json();case 25:return i=e.sent,e.abrupt("return",{dataFromServer:i,error:null});case 27:e.next=32;break;case 29:return e.prev=29,e.t0=e.catch(2),e.abrupt("return",{dataFromServer:[],error:e.t0});case 32:case"end":return e.stop()}}),e,null,[[2,29]])})));return function(t){return e.apply(this,arguments)}}(),C=function(e){var t=[];for(var r in y){var c,n=y[r].flashcard,a=y[r].id;for(null===e[n]&&(e[n]=[]),c=0;c<e[n].length;c++){var s=e[n][c],o=s.flashcardId,l=s.phase,i=s.learningStep,d=s.dueDate,u=s.lapseCount,j=s.isSuspended,b={word:s[r],wordType:r,flashcardId:o,phase:l,learningStep:i,dueDate:d,lapseCount:u,isSuspended:j};b[a]=s[a],t.push(b)}}return t},S={name:"",useSubjunctive:!0,useInfinitive:!0,useIndicative:!0,useImperative:!0,useParticiple:!0,usePreterite:!0,useImperfect:!0,useFuture:!0,usePresent:!0,useYo:!0,useTu:!0,useEl:!0,useVos:!1,useEllos:!0,useNosotros:!0,useVosotros:!0},T=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S,t="?",r=0,c=Object.entries(S);r<c.length;r++){var n=Object(d.a)(c[r],2),a=n[0],s=n[1];!1===e[a]&&(t+="".concat(a,"=").concat(s,"&"))}return t=t.slice(0,-1)},I=function(e,t,r){var c=r.intervalModifier,n=void 0===c?null:c,a=r.learningSteps,s=void 0===a?null:a,o=r.graduatingInterval,l=void 0===o?null:o,i=r.easyInterval,d=void 0===i?null:i,u=r.easyBonus,j=void 0===u?null:u,b=function(e){var t=new Date;return new Date(t.setMinutes(t.getMinutes()+e)).toJSON()};return"Again"===e?function(e,t){var r=1,c=null,n=null,a=null,s=null;"Graduated"===e.phase&&(r=2,c=e.ease-20,n=1440,a=e.lapseCount+1),(8===a||a>8&&Number.isInteger((a-8)/4))&&(s=!0);var o=t.find((function(e){return e.stepNumber===r})).stepInterval,l=b(o);return{newEase:c,newPhase:"Learning",newInterval:n,newLearningStep:r,newDueDate:l,newLapseCount:a,newIsSuspended:s}}(t,s):"Graduated"===t.phase?function(e,t,r,c){var n=t.ease+("Easy"===e?15:"Hard"===e?-15:0),a=c?c/100:1,s="Hard"===e?120:t.ease,o=r*t.interval*s*a/1e4;return{newEase:n,newPhase:null,newInterval:o,newLearningStep:null,newDueDate:b(o),newLapseCount:null,newIsSuspended:null}}(e,t,n,j):function(e,t,r,c,n){var a="Easy"===e?1:0;if(t.learningStep+a<r.length){var s=r.find((function(e){return e.stepNumber===t.learningStep+a+1})).stepInterval;return{newEase:null,newPhase:"Learning",newInterval:null,newLearningStep:t.learningStep+a+1,newDueDate:b(s),newLapseCount:null,newIsSuspended:null}}var o=24*c*60;return t.interval>0?o=t.interval:"Easy"===e&&t.learningStep+1===r.length&&(o=24*n*60),{newEase:null,newPhase:"Graduated",newInterval:o,newLearningStep:r.length,newDueDate:b(o),newLapseCount:null,newIsSuspended:null}}(e,t,s,l,d)},D=function(e){var t=e.currentDeck,r=e.setCurrentDeck,n=e.userProfile,a=Object(c.useState)(!1),s=Object(d.a)(a,2),j=s[0],h=s[1],f=Object(c.useState)(null),x=Object(d.a)(f,2),O=x[0],p=x[1],m=Object(c.useState)(!1),v=Object(d.a)(m,2),k=v[0],S=v[1],D=Object(c.useState)([]),P=Object(d.a)(D,2),E=P[0],F=P[1],A=Object(c.useState)([]),L=Object(d.a)(A,2),H=L[0],_=L[1],M=Object(c.useState)(0),B=Object(d.a)(M,2),U=B[0],R=B[1],V=Object(c.useState)([]),G=Object(d.a)(V,2),W=G[0],Y=G[1],z=Object(c.useState)(null),J=Object(d.a)(z,2),K=J[0],Q=J[1];Object(c.useEffect)((function(){p(t.flashcards)}),[t.flashcards]),Object(c.useEffect)((function(){var e=new Date,t=new Date(e.setMinutes(e.getMinutes()+20)).toJSON();console.log(t),Q(t)}),[]),Object(c.useEffect)((function(){var e,t=n.steps.split(" "),r=[];for(e=0;e<t.length;e++){var c={stepNumber:e+1,stepInterval:parseInt(t[e])};r.push(c)}Y(r)}),[n.steps]),Object(c.useEffect)((function(){if(O){var e=new Date,t=function(t,r){var c=new Date(e.setMinutes(e.getMinutes()+r));return"Graduated"===t&&(c=new Date(e.setHours(r)),e.getHours()>=r&&(c=new Date(c.setDate(c.getDate()+1))),c=new Date(c.setMinutes(0))),c.toJSON()},r=function(e,r,c){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:-1,a=c?t(r,c):null,s=e.filter((function(e){return e.phase===r&&(e.dueDate<=a||null===a)&&!1===e.isSuspended})).slice(0,n);return s},c=r(O,"Graduated",4,n.reviewsPerDay),a=r(O,"Learning",20),s=r(O,"New",c.length>0?20:null,n.newCardsPerDay),o=[].concat(Object(l.a)(c),Object(l.a)(a),Object(l.a)(s));_(o),console.log("todayscards are: "),console.log(o)}}),[n.newCardsPerDay,n.reviewsPerDay,t.deckId,O,j]),Object(c.useEffect)((function(){!j&&H.length>0&&(console.log("effect was triggered to get flashcard"),console.log(H),function(){var e=Object(i.a)(o.a.mark((function e(r){var c,n,a,s,l,i,d;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(c=Object.assign({},r)).flashcardId=c[y[c.wordType].id],n=T(t),a="".concat(c.wordType,"s/").concat(c.flashcardId,"/phrases")+n,e.next=6,N(a);case 6:s=e.sent,l=s.dataFromServer,(i=s.error)?console.log(i):(null==(d=l[Math.floor(Math.random()*l.length)])?(c.phrase="no phrase for this word yet",c.phraseNumber=null):(c.spanishPhrase=d.spanishPhrase,c.englishPhrase=d.englishPhrase,c.phraseNumber=d.phraseNumber,c.word=d.word,c.startTime=d.startTime,c.endTime=d.endTime,c.subtitleId=d.subtitleId,c.conjugationForm=d.conjugationForm,c.conjugationTense=d.conjugationTense,c.conjugationType=d.conjugationType,c.showTitle=d.showTitle,c.seasonNumber=d.seasonNumber,c.episodeNumber=d.episodeNumber),F(c));case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(H[U]))}),[t,H,U,j]);var q=function(e){for(var t=[],r=0,c=Object.entries(e);r<c.length;r++){var n=Object(d.a)(c[r],2),a=n[0],s=n[1];s&&t.push({op:"replace",path:"/".concat(a),value:s})}return t},X=function(){var e=Object(i.a)(o.a.mark((function e(r){var c,a,s,l,i,d,u,j,b,h,f,x,O,p;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c={learningSteps:W,intervalModifier:n.intervalModifier,graduatingInterval:n.graduatingInterval,easyInterval:n.easyInterval,easyBonus:n.easyBonus},console.log(c),a=I(r,E,c),s=a.newEase,l=a.newPhase,i=a.newInterval,d=a.newLearningStep,u=a.newDueDate,j=a.newLapseCount,b=a.newIsSuspended,h=q({learningStep:d,interval:i,phase:l,ease:s,dueDate:u,lapseCount:j,isSuspended:b}),f="flashcards/".concat(E.wordType,"s?id=").concat(E.flashcardId,"&deckId=").concat(t.deckId),e.next=8,N(f,"PATCH",h);case 8:if(x=e.sent,O=x.dataFromServer,!(p=x.error)){e.next=15;break}console.log(p),e.next=19;break;case 15:return"Learning"===(l||E.phase)&&u<K&&H.push(O),e.next=19,Z();case 19:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Z=function(){var e=Object(i.a)(o.a.mark((function e(){var c,n,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(H.length>0&&U+1!==H.length)){e.next=5;break}S(!1),R(U+1),e.next=11;break;case 5:return e.next=7,N("decks/".concat(t.deckId));case 7:c=e.sent,n=c.dataFromServer,(a=c.error)?console.log(a):(n.flashcards=C(n),r(n),S(!1),h(!0),_([]),F([]));case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(b.jsxs)("div",{children:[!j&&0===H.length&&Object(b.jsx)(b.Fragment,{children:Object(b.jsx)("h1",{children:"No cards left for today, come back tomorrow"})}),!j&&E&&H.length>0&&E.spanishPhrase&&Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(w,{flashcard:E,showVerb:k},E.phraseNumber),!k&&Object(b.jsx)(g,{text:"Show",onClick:function(){return S(!0)}}),k&&Object(b.jsxs)("div",{children:[Object(b.jsx)(g,{text:"Again",onClick:function(){return X("Again")}}),"Graduated"===E.phase&&Object(b.jsx)(g,{text:"Hard",onClick:function(){return X("Hard")}}),Object(b.jsx)(g,{text:"Good",onClick:function(){return X("Good")}}),Object(b.jsx)(g,{text:"Easy",onClick:function(){return X("Easy")}})]})]}),j&&Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("h1",{children:"Deck finished!"}),Object(b.jsx)("h2",{children:"Come back tomorrow for more flashcards"})]}),Object(b.jsx)(u.b,{to:"/home",className:"back-link",children:"Back"})]})},P=function(e){var t=e.currentDeck;return t.flashcards&&Object(b.jsxs)("div",{className:"m-5 w-1/3 rounded-lg shadow-lg bg-white border-2 ",children:[Object(b.jsx)("header",{className:"flex justify-center p-4",children:Object(b.jsx)("h2",{className:"text-5xl ",children:t.name})}),Object(b.jsxs)("div",{className:"flex justify-evenly p-4",children:[Object(b.jsxs)("div",{children:[Object(b.jsx)("h4",{className:"text-3xl",children:"Cards"}),Object(b.jsx)("h4",{className:"text-xl text-terraCotta-500 text-center",children:t.flashcards.length})]}),Object(b.jsxs)("div",{children:[Object(b.jsx)("h4",{className:"text-3xl",children:"Due"}),Object(b.jsx)("h4",{className:"text-xl text-terraCotta-500 text-center",children:t.flashcards.filter((function(e){return e.dueDate<=(new Date).toJSON()})).length})]})]})]})},E=function(){var e=Object(i.a)(o.a.mark((function e(t,r){var c,n,a,s,l,d,u;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=function(){var e=Object(i.a)(o.a.mark((function e(t,r,c){var n,a,s,l,i,d,u,j,b,h,f,x;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=0,n=0;case 2:if(!(n<r.length)){e.next=10;break}return a=r[n],s=y[a.wordType].id,e.next=7,N("Flashcards/".concat(a.wordType,"s?id=").concat(a[s],"&deckId=").concat(c),"DELETE");case 7:n++,e.next=2;break;case 10:for(l=[],i=0,console.log(t.length),i=0;i<t.length;i++)d=t[i],console.log(d),u=d.wordType,console.log(u),j=[y[u].id],console.log(y[u]),b=new Date,h=b.toJSON(),(f={deckId:c,Phase:"New",ease:250,learningStep:1,interval:0,dueDate:h})[j]=d[j],l.push({op:"add",path:"/".concat(u,"Flashcards/-"),value:f});return console.log("patchData"),console.log(JSON.stringify(l)),e.next=18,N("decks/".concat(c),"PATCH",l);case 18:return x=e.sent,e.abrupt("return",x);case 20:case"end":return e.stop()}}),e)})));return function(t,r,c){return e.apply(this,arguments)}}(),n=t.flashcards,console.log("current cards"),console.log(n),console.log("updated cards"),console.log(r),a=r.filter((function(e){return!n.some((function(t){return t.wordType===e.wordType&&t["".concat(t.wordType,"Id")]===e["".concat(e.wordType,"Id")]}))})),console.log("add"),console.log(a),s=n.filter((function(e){return!r.some((function(t){return t.wordType===e.wordType&&t["".concat(t.wordType,"Id")]===e["".concat(e.wordType,"Id")]}))})),console.log("remove"),console.log(s),e.next=14,c(a,s,t.deckId);case 14:return l=e.sent,d=l.dataFromServer,u=l.error,e.abrupt("return",{dataFromServer:d,error:u});case 18:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),F=r(13),A=(r(19),r(10)),L=r(27),H=function(e){var t=e.columns,r=e.data,c=Object(L.useTable)({columns:t,data:r}),n=c.getTableProps,a=c.getTableBodyProps,s=c.headerGroups,o=c.rows,l=c.prepareRow;return Object(b.jsxs)("table",Object(A.a)(Object(A.a)({},n()),{},{children:[Object(b.jsx)("thead",{children:s.map((function(e){return Object(b.jsx)("tr",Object(A.a)(Object(A.a)({},e.getHeaderGroupProps()),{},{children:e.headers.map((function(e){return Object(b.jsx)("th",Object(A.a)(Object(A.a)({},e.getHeaderProps()),{},{children:e.render("Header")}))}))}))}))}),Object(b.jsx)("tbody",Object(A.a)(Object(A.a)({},a()),{},{children:o.map((function(e){return l(e),Object(b.jsx)("tr",Object(A.a)(Object(A.a)({},e.getRowProps()),{},{children:e.cells.map((function(e){return Object(b.jsx)("td",Object(A.a)(Object(A.a)({},e.getCellProps()),{},{children:e.render("Cell")}))}))}))}))}))]}))},_=function(e){var t=e.currentDeck,r=e.setCurrentDeck,n=e.decks,a=e.setDecks,s=Object(c.useState)(""),j=Object(d.a)(s,2),h=j[0],f=j[1],x=Object(c.useState)([]),O=Object(d.a)(x,2),p=O[0],m=O[1],v=Object(c.useState)(!1),k=Object(d.a)(v,2),w=k[0],y=k[1],S=Object(c.useState)(!1),T=Object(d.a)(S,2),I=T[0],D=T[1],P=Object(c.useState)(null),A=Object(d.a)(P,2),L=A[0],_=A[1],M=Object(c.useState)(""),B=Object(d.a)(M,2),U=B[0],R=B[1],V=Object(c.useState)([]),G=Object(d.a)(V,2),W=G[0];G[1];Object(c.useEffect)((function(){if(t.flashcards){var e=Object(l.a)(t.flashcards);_(e)}}),[t.flashcards]),Object(c.useEffect)((function(){p.length>0&&(D(!1),y(!0))}),[p]);var Y=function(){var e=Object(i.a)(o.a.mark((function e(t){var r,c,n,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),m([]),!(null===h|0===h.length)){e.next=5;break}return alert("please add a search value"),e.abrupt("return");case 5:return D(!0),e.next=8,N("words?word=".concat(h));case 8:if(r=e.sent,c=r.dataFromServer,n=r.error)console.log(n);else{for(a=0;a<c.length;a++)c[a].flashcardId=c[a]["".concat(c[a].wordType,"Id")];m(c),console.log("search result"),console.log(p)}case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),z=function(){var e=Object(i.a)(o.a.mark((function e(){var c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c=function(){var e=Object(i.a)(o.a.mark((function e(){var c,s,i,d;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("clicked yes"),e.next=3,E(t,L);case 3:c=e.sent,s=c.dataFromServer,(i=c.error)?console.log(i):(s.flashcards=C(s),d=n.filter((function(e){return e.deckId!==t.deckId})),a([].concat(Object(l.a)(d),[s])),r(s));case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),function(){},Object(F.confirmAlert)({title:"Confirm",message:"Are you sure? Progress will be lost for any removed words",buttons:[{label:"Yes",onClick:function(){return c()}},{label:"No",onClick:function(){}}]});case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),J=function(){var e=Object(i.a)(o.a.mark((function e(r){var c,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c=function(){var e=Object(i.a)(o.a.mark((function e(r){var c,n,a,s,l;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=r["".concat(r.wordType,"Id")],n="flashcards/".concat(r.wordType,"s?id=").concat(c,"&deckId=").concat(t.deckId),a=[{op:"replace",path:"/isSuspended",value:!r.isSuspended}],e.next=5,N(n,"PATCH",a);case 5:return s=e.sent,l=s.error,e.abrupt("return",{error:l});case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n=function(){var e=Object(i.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c(r),t=L.findIndex((function(e){return e.word===r.word&&e.wordType===r.wordType})),L[t].isSuspended=!L[t].isSuspended,console.log(L),_(Object(l.a)(L));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),function(){},Object(F.confirmAlert)({title:"Confirm",message:r.isSuspended?"Unsuspend card?":"Are you sure you want to suspend this card? you can unsuspend it at any time.",buttons:[{label:"Yes",onClick:function(){return n()}},{label:"No",onClick:function(){}}]});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),K=[{Header:"Word",accessor:"word",Cell:function(e){var t=e.value;return Object(b.jsx)("span",{className:"text-center font-semibold text-2xl p-2",children:t})}},{Header:"Type",accessor:"wordType",Cell:function(e){var t=e.value;return Object(b.jsx)("span",{className:"text-center text-xl p-2",children:t})}},{id:"flashcardId",accessor:"flashcardId",Cell:function(e){var t=e.row;return Object(b.jsx)("button",{className:"btn",onClick:L.some((function(e){return e["".concat(e.wordType,"Id")]===t.values.flashcardId}))?null:function(){return(e={flashcardId:t.values.flashcardId,wordType:t.values.wordType,word:t.values.word})["".concat(e.wordType,"Id")]=e.flashcardId,e.isSuspended=!1,_([].concat(Object(l.a)(L),[e])),void console.log(L);var e},children:L.some((function(e){return e["".concat(e.wordType,"Id")]===t.values.flashcardId}))?"Added":"Add"})}}],Q=[{Header:"Word",accessor:"word",Cell:function(e){var t=e.row,r=e.value;return Object(b.jsx)("span",{className:t.original.isSuspended?"text-red-700 text-center font-semibold text-2xl p-2":"text-center font-semibold text-2xl p-2",children:r})}},{Header:"Type",accessor:"wordType",Cell:function(e){e.row;var t=e.value;return Object(b.jsx)("span",{className:"text-center text-xl p-2",children:t})}},{id:"suspend",accessor:"isSuspended",Cell:function(e){var t=e.row;return Object(b.jsx)("button",{className:"btn",onClick:t.original.phase?function(){return J(t.original)}:null,children:t.original.phase?L.find((function(e){return e.word===t.original.word&&e.wordType===t.original.wordType})).isSuspended?"Suspended":"Suspend":"Can't suspend new card"})}},{id:"flashcardId",accessor:"flashcardId",Cell:function(e){var t=e.row;return Object(b.jsx)("button",{className:"btn",onClick:function(){return _(L.filter((function(e){return!(e.word===t.values.word&&e.wordType===t.values.wordType)})))},children:"Remove"})}}];return Object(b.jsx)(b.Fragment,{children:Object(b.jsxs)("section",{className:"px-32 py-6",children:[Object(b.jsx)("header",{children:Object(b.jsxs)("h4",{className:"p-2 border-b-2 border-bookBlue text-bold text-5xl",children:["Editing: ",t.name]})}),Object(b.jsxs)("div",{className:"flex justify-evenly shadow-md",children:[Object(b.jsxs)("div",{className:"w-1/2 bg-gray-100 shadow-md p-4",children:[Object(b.jsx)("h2",{className:"text-4xl p-4",children:"Add cards"}),Object(b.jsxs)("form",{className:"p-4",onSubmit:Y,children:[Object(b.jsx)("div",{className:"flex justify-center bg-gray-100",children:Object(b.jsx)("input",{type:"text",placeholder:"Search",value:h,onChange:function(e){return f(e.target.value)}})}),Object(b.jsx)("div",{className:"p-2 flex justify-center",children:Object(b.jsx)("input",{type:"submit",value:"Search",className:"btn"})})]}),I&&Object(b.jsx)("h1",{children:"Loading...."}),Object(b.jsx)("div",{className:"h-80 flex justify-center bg-white overflow-scroll",children:w&&Object(b.jsx)(H,{columns:K,data:p})})]}),Object(b.jsxs)("div",{className:"w-1/2 bg-gray-100 shadow-md p-4",children:[Object(b.jsx)("h2",{className:"text-4xl p-4",children:"Current cards"}),Object(b.jsx)("div",{className:"flex justify-center bg-gray-100",children:Object(b.jsx)("input",{type:"text",id:"myInput",onChange:function(e){return R(e.target.value.toLowerCase())},value:U,placeholder:"Search deck..."})}),Object(b.jsx)("div",{className:"p-6 flex justify-center",children:Object(b.jsx)("input",{type:"submit",value:"Search",className:"btn btn-block"})}),0===t.flashcards.length&&Object(b.jsx)("h3",{children:"Deck is empty"}),Object(b.jsx)("div",{className:"flex justify-center bg-white overflow-scroll h-80",children:L&&W&&Object(b.jsx)(H,{columns:Q,data:L})})]})]}),Object(b.jsxs)("div",{className:"flex justify-center p-4",children:[Object(b.jsx)(u.b,{className:"btn",to:"/home",children:"Back"}),Object(b.jsx)(g,{className:"btn border-2 border-terraCotta-500",text:"Submit",color:"black",onClick:function(){return z()}})]})]})})},M=function(e){var t=e.deck,r=void 0===t?S:t,n=e.processDeck,a=(e.onClickBack,e.headerText),s=Object(c.useState)(r.name),o=Object(d.a)(s,2),l=o[0],i=o[1],j=Object(c.useState)(r.useSubjunctive),h=Object(d.a)(j,2),f=h[0],x=h[1],O=Object(c.useState)(r.useIndicative),p=Object(d.a)(O,2),m=p[0],v=p[1],g=Object(c.useState)(r.useImperative),k=Object(d.a)(g,2),w=k[0],y=k[1],N=Object(c.useState)(r.useParticiple),C=Object(d.a)(N,2),T=C[0],I=C[1],D=Object(c.useState)(r.usePreterite),P=Object(d.a)(D,2),E=P[0],A=P[1],L=Object(c.useState)(r.useImperfect),H=Object(d.a)(L,2),_=H[0],M=H[1],B=Object(c.useState)(r.useFuture),U=Object(d.a)(B,2),R=U[0],V=U[1],G=Object(c.useState)(r.usePresent),W=Object(d.a)(G,2),Y=W[0],z=W[1],J=Object(c.useState)(r.IsDefault),K=Object(d.a)(J,2),Q=K[0],q=K[1],X=Object(c.useState)(r.useInfinitive),Z=Object(d.a)(X,2),$=Z[0],ee=Z[1],te=Object(c.useState)(r.useYo),re=Object(d.a)(te,2),ce=re[0],ne=re[1],ae=Object(c.useState)(r.useTu),se=Object(d.a)(ae,2),oe=se[0],le=se[1],ie=Object(c.useState)(r.useEl),de=Object(d.a)(ie,2),ue=de[0],je=de[1],be=Object(c.useState)(r.useVos),he=Object(d.a)(be,2),fe=he[0],xe=he[1],Oe=Object(c.useState)(r.useEllos),pe=Object(d.a)(Oe,2),me=pe[0],ve=pe[1],ge=Object(c.useState)(r.useNosotros),ke=Object(d.a)(ge,2),we=ke[0],ye=ke[1],Ne=Object(c.useState)(r.useVosotros),Ce=Object(d.a)(Ne,2),Se=Ce[0],Te=Ce[1];return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("header",{children:Object(b.jsx)("h4",{children:a})}),Object(b.jsxs)("form",{className:"add-form",onSubmit:function(e){e.preventDefault();Object(F.confirmAlert)({title:"Confirm",message:"Confirm settings?",buttons:[{label:"Yes",onClick:function(){n({name:l,useSubjunctive:f,useInfinitive:$,useIndicative:m,useImperative:w,useParticiple:T,usePreterite:E,useImperfect:_,useFuture:R,usePresent:Y,useYo:ce,useTu:oe,useEl:ue,useVos:fe,useEllos:me,useNosotros:we,useVosotros:Se})}},{label:"No",onClick:function(){}}]})},children:[Object(b.jsxs)("fieldset",{className:"fieldset-container default-deck",children:[Object(b.jsxs)("div",{className:"form-control",children:[Object(b.jsx)("label",{children:"Deck name"}),Object(b.jsx)("input",{type:"text",placeholder:r.name?r.name:"My first deck",value:l,onChange:function(e){return i(e.target.value)}})]}),Object(b.jsxs)("div",{className:"form-control form-control-check default-deck",children:[Object(b.jsx)("label",{className:"center",children:"Default deck"}),Object(b.jsx)("input",{type:"checkbox",checked:Q,value:Q,onChange:function(e){return q(e.currentTarget.checked)}})]})]}),Object(b.jsx)("div",{className:"center",children:Object(b.jsx)("h4",{children:"Verb settings"})}),Object(b.jsx)("p",{children:"You can customise the type of verb conjugations you will see below. Make sure that the forms and tenses are compatible (for example if you only tick subjunctive and preterite, nothing will come up as subjunctive has no preterite form)."}),Object(b.jsxs)("div",{className:"fieldset-container",children:[Object(b.jsxs)("fieldset",{className:"deck-fieldset",children:[Object(b.jsx)("legend",{children:"Forms:"}),Object(b.jsxs)("div",{children:[Object(b.jsxs)("div",{className:"form-control form-control-check",children:[Object(b.jsx)("label",{children:"Infinitive"}),Object(b.jsx)("input",{type:"checkbox",checked:$,value:$,onChange:function(e){return ee(e.currentTarget.checked)}})]}),Object(b.jsxs)("div",{className:"form-control form-control-check",children:[Object(b.jsx)("label",{children:"Subjunctive"}),Object(b.jsx)("input",{type:"checkbox",checked:f,value:f,onChange:function(e){return x(e.currentTarget.checked)}})]}),Object(b.jsxs)("div",{className:"form-control form-control-check",children:[Object(b.jsx)("label",{children:"Indicative"}),Object(b.jsx)("input",{type:"checkbox",checked:m,value:m,onChange:function(e){return v(e.currentTarget.checked)}})]}),Object(b.jsxs)("div",{className:"form-control form-control-check",children:[Object(b.jsx)("label",{children:"Imperative"}),Object(b.jsx)("input",{type:"checkbox",checked:w,value:w,onChange:function(e){return y(e.currentTarget.checked)}})]}),Object(b.jsxs)("div",{className:"form-control form-control-check",children:[Object(b.jsx)("label",{children:"Participle"}),Object(b.jsx)("input",{type:"checkbox",checked:T,value:T,onChange:function(e){return I(e.currentTarget.checked)}})]})]})]}),Object(b.jsxs)("fieldset",{className:"deck-fieldset",children:[Object(b.jsx)("legend",{children:"Tenses:"}),Object(b.jsxs)("div",{children:[Object(b.jsxs)("div",{className:"form-control form-control-check",children:[Object(b.jsx)("label",{children:"Preterite"}),Object(b.jsx)("input",{type:"checkbox",checked:E,value:E,onChange:function(e){return A(e.currentTarget.checked)}})]}),Object(b.jsxs)("div",{className:"form-control form-control-check",children:[Object(b.jsx)("label",{children:"Imperfect"}),Object(b.jsx)("input",{type:"checkbox",checked:_,value:_,onChange:function(e){return M(e.currentTarget.checked)}})]}),Object(b.jsxs)("div",{className:"form-control form-control-check",children:[Object(b.jsx)("label",{children:"Future"}),Object(b.jsx)("input",{type:"checkbox",checked:R,value:R,onChange:function(e){return V(e.currentTarget.checked)}})]}),Object(b.jsxs)("div",{className:"form-control form-control-check",children:[Object(b.jsx)("label",{children:"Present"}),Object(b.jsx)("input",{type:"checkbox",checked:Y,value:Y,onChange:function(e){return z(e.currentTarget.checked)}})]})]})]}),Object(b.jsxs)("fieldset",{className:"deck-fieldset",children:[Object(b.jsx)("legend",{children:"Conjugations:"}),Object(b.jsxs)("div",{children:[Object(b.jsxs)("div",{className:"form-control form-control-check",children:[Object(b.jsx)("label",{children:"Yo"}),Object(b.jsx)("input",{type:"checkbox",checked:ce,value:ce,onChange:function(e){return ne(e.currentTarget.checked)}})]}),Object(b.jsxs)("div",{className:"form-control form-control-check",children:[Object(b.jsx)("label",{children:"T\xfa"}),Object(b.jsx)("input",{type:"checkbox",checked:oe,value:oe,onChange:function(e){return le(e.currentTarget.checked)}})]}),Object(b.jsxs)("div",{className:"form-control form-control-check",children:[Object(b.jsx)("label",{children:"Vos"}),Object(b.jsx)("input",{type:"checkbox",checked:fe,value:fe,onChange:function(e){return xe(e.currentTarget.checked)}})]}),Object(b.jsxs)("div",{className:"form-control form-control-check",children:[Object(b.jsx)("label",{children:"\xc9l/Ella/Usted"}),Object(b.jsx)("input",{type:"checkbox",checked:ue,value:ue,onChange:function(e){return je(e.currentTarget.checked)}})]}),Object(b.jsxs)("div",{className:"form-control form-control-check",children:[Object(b.jsx)("label",{children:"Ellos/Ellas/Ustedes"}),Object(b.jsx)("input",{type:"checkbox",checked:me,value:me,onChange:function(e){return ve(e.currentTarget.checked)}})]}),Object(b.jsxs)("div",{className:"form-control form-control-check",children:[Object(b.jsx)("label",{children:"Nosotros/Nosotras"}),Object(b.jsx)("input",{type:"checkbox",checked:we,value:we,onChange:function(e){return ye(e.currentTarget.checked)}})]}),Object(b.jsxs)("div",{className:"form-control form-control-check",children:[Object(b.jsx)("label",{children:"Vosotros/Vosotras"}),Object(b.jsx)("input",{type:"checkbox",checked:Se,value:Se,onChange:function(e){return Te(e.currentTarget.checked)}})]})]})]})]}),Object(b.jsxs)("div",{className:"center",children:[Object(b.jsx)(u.b,{to:"/home",className:"back-link",children:"Back"}),Object(b.jsx)("input",{type:"submit",value:"Save Deck",className:"btn btn-block"})]})]})]})},B=(r(51),function(e){var t=e.currentDeck,r=e.decks,n=e.setCurrentDeck,a=e.setDecks;Object(c.useEffect)((function(){console.log(t)}),[t]);var s=function(){var e=Object(i.a)(o.a.mark((function e(r){var c,a,s,l,i,u,j,b,h;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(c=[],a=0,s=Object.entries(r);a<s.length;a++)l=Object(d.a)(s[a],2),i=l[0],u=l[1],c.push({op:"replace",path:"/"+i,value:u});return e.next=4,N("decks/".concat(t.deckId),"PATCH",c);case 4:j=e.sent,b=j.dataFromServer,(h=j.error)?console.log(h):(b.flashcards=C(b),n(b));case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(b.jsx)(u.a,{children:Object(b.jsxs)("article",{className:"px-16 py-2",children:[Object(b.jsxs)(j.b,{path:"/home",exact:!0,children:[Object(b.jsx)("header",{children:Object(b.jsx)("h4",{className:"p-2 border-b-2 border-bookBlue text-bold text-3xl",children:"Current deck"})}),Object(b.jsx)("div",{className:"flex justify-center",children:Object(b.jsx)(P,{currentDeck:t})}),Object(b.jsx)("div",{className:"flex justify-center text-center text-2xl",children:Object(b.jsxs)("div",{className:"w-1/3  flex justify-center text-center",children:[Object(b.jsx)(u.b,{className:"btn border-2 shadow-md transition-colors duration-75 border-terraCotta-500 hover:text-white hover:bg-terraCotta-500 hover:shadow-inner",to:"/deck/addFlashcards",children:"Add/remove cards"}),Object(b.jsx)(u.b,{className:"btn border-2 shadow-md transition-colors duration-75 border-terraCotta-500 hover:text-white hover:bg-terraCotta-500 hover:shadow-inner ml-2",to:"/deck/edit",children:"Edit settings"})]})})]}),Object(b.jsx)(j.b,{path:"/deck/addFlashcards",exact:!0,children:t.flashcards&&Object(b.jsx)(_,{currentDeck:t,setCurrentDeck:n,decks:r,setDecks:a})}),Object(b.jsx)(j.b,{path:"/deck/edit",exact:!0,children:Object(b.jsx)("div",{className:"container blue-border",children:Object(b.jsx)(M,{deck:t,processDeck:s,headerText:"Edit deck:"})})})]})})}),U=function(e,t,r){var n=Object(c.useState)(!0),a=Object(d.a)(n,2),s=a[0],l=a[1],u=Object(c.useState)([]),j=Object(d.a)(u,2),b=j[0],h=j[1],f=Object(c.useState)(null),x=Object(d.a)(f,2),O=x[0],m=x[1],v=Object(p.b)(),g=v.user,k=v.isAuthenticated;return Object(c.useEffect)((function(){k&&(console.log("are we fetching ?"),t?function(){var e=Object(i.a)(o.a.mark((function e(){var c,n,a,s,i,u,j,b,f;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(l(!0),c=[],n=0,a=Object.entries(t);n<a.length;n++)s=Object(d.a)(a[n],2),i=s[0],u=s[1],c.push({op:"replace",path:"/"+i,value:u});return console.log("".concat(r,"s/")),e.next=6,N("".concat(r,"s/").concat(t["".concat(r,"Id")]),"PATCH",c);case 6:j=e.sent,b=j.dataFromServer,f=j.error,m(f),h(b),l(!1);case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()():function(){var t=Object(i.a)(o.a.mark((function t(){var r,c,n,a,s,i,d,u,j,b;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(l(!0),"users?authIdentifier="!==e){t.next=25;break}return r=g.sub,console.log("here"),t.next=6,N(e+r);case 6:if(c=t.sent,n=c.dataFromServer,a=c.error,404!==n.status){t.next=20;break}return t.next=12,N("users","POST",{authIdentifier:r});case 12:s=t.sent,i=s.dataFromServer,d=s.error,m(d),h(i),l(!1),t.next=23;break;case 20:m(a),h(n),l(!1);case 23:t.next=33;break;case 25:return t.next=27,N(e);case 27:u=t.sent,j=u.dataFromServer,b=u.error,m(b),h(j),l(!1);case 33:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()())}),[e,g,k,t,r]),{data:b,isPending:s,error:O}},R=function(e){var t=e.userProfile,r=e.setUpdatedUserProfile,n=Object(c.useState)(t.displayName),a=Object(d.a)(n,2),s=a[0],o=a[1],l=Object(c.useState)(t.defaultDeckId?t.defaultDeckId:void 0),i=Object(d.a)(l,2),j=i[0],h=i[1],f=Object(c.useState)(t.newCardsPerDay),x=Object(d.a)(f,2),O=x[0],p=x[1],m=Object(c.useState)(t.graduatingInterval),v=Object(d.a)(m,2),g=v[0],k=v[1],w=Object(c.useState)(t.easyInterval),y=Object(d.a)(w,2),N=y[0],C=y[1],S=Object(c.useState)(t.startingEase),T=Object(d.a)(S,2),I=T[0],D=T[1],P=Object(c.useState)(t.steps),E=Object(d.a)(P,2),A=E[0],L=E[1],H=Object(c.useState)(t.reviewsPerDay),_=Object(d.a)(H,2),M=_[0],B=_[1],U=Object(c.useState)(t.easyBonus),R=Object(d.a)(U,2),V=R[0],G=R[1],W=Object(c.useState)(t.intervalModifier),Y=Object(d.a)(W,2),z=Y[0],J=Y[1],K=Object(c.useState)(t.maximumInterval),Q=Object(d.a)(K,2),q=Q[0],X=Q[1];return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("header",{children:Object(b.jsx)("h4",{children:"Edit user settings:"})}),Object(b.jsxs)("form",{className:"add-form",onSubmit:function(e){e.preventDefault();Object(F.confirmAlert)({title:"Confirm",message:"Confirm settings?",buttons:[{label:"Yes",onClick:function(){return function(){var e={userId:t.userId,displayName:s,defaultDeckId:j,newCardsPerDay:O,graduatingInterval:g,easyInterval:N,startingEase:I,steps:A,reviewsPerDay:M,easyBonus:V,intervalModifier:z,maximumInterval:q};console.log(e),r(e)}()}},{label:"No",onClick:function(){}}]})},children:[Object(b.jsxs)("fieldset",{className:"fieldset-container default-deck",children:[Object(b.jsxs)("div",{className:"form-control",children:[Object(b.jsx)("label",{children:"Display name"}),Object(b.jsx)("input",{type:"text",placeholder:s||"",value:s||"",onChange:function(e){return o(e.target.value)}})]}),Object(b.jsxs)("div",{className:"form-control form-control-check default-deck",children:[Object(b.jsx)("label",{className:"center",children:"Default deck"}),Object(b.jsx)("select",{value:j,onChange:function(e){return h(e.target.value)},children:t.decks.map((function(e){return Object(b.jsx)("option",{value:e.deckId,children:e.name},e.deckId)}))})]})]}),Object(b.jsx)("div",{className:"center",children:Object(b.jsx)("h4",{children:"Flashcard options"})}),Object(b.jsx)("p",{children:"Here you can customize how your flashcards work. ONLY CHANGE THESE IF YOU KNOW WHAT YOU ARE DOING. "}),Object(b.jsxs)("div",{className:"fieldset-container",children:[Object(b.jsxs)("fieldset",{className:"deck-fieldset",children:[Object(b.jsx)("legend",{children:"New cards:"}),Object(b.jsxs)("div",{children:[Object(b.jsxs)("div",{className:"form-control form-control",children:[Object(b.jsx)("label",{children:"Steps"}),Object(b.jsx)("input",{type:"text",placeholder:A,value:A,onChange:function(e){return L(e.currentTarget.value)}})]}),Object(b.jsxs)("div",{className:"form-control form-control",children:[Object(b.jsx)("label",{children:"Max new cards per day"}),Object(b.jsx)("input",{type:"number",placeholder:O,value:O,onChange:function(e){return p(e.currentTarget.value)}})]}),Object(b.jsxs)("div",{className:"form-control form-control",children:[Object(b.jsx)("label",{children:"Graduating interval (days)"}),Object(b.jsx)("input",{type:"number",value:g,onChange:function(e){return k(e.currentTarget.value)}})]}),Object(b.jsxs)("div",{className:"form-control form-control",children:[Object(b.jsx)("label",{children:"Easy interval (days)"}),Object(b.jsx)("input",{type:"number",value:N,onChange:function(e){return C(e.currentTarget.value)}})]}),Object(b.jsxs)("div",{className:"form-control form-control",children:[Object(b.jsx)("label",{children:"Starting ease (%)"}),Object(b.jsx)("input",{type:"number",value:I,onChange:function(e){return D(e.currentTarget.value)}})]})]})]}),Object(b.jsxs)("fieldset",{className:"deck-fieldset",children:[Object(b.jsx)("legend",{children:"Review Cards:"}),Object(b.jsxs)("div",{children:[Object(b.jsxs)("div",{className:"form-control form-control",children:[Object(b.jsx)("label",{children:"Maximum reviews per day"}),Object(b.jsx)("input",{type:"number",value:M,onChange:function(e){return B(e.currentTarget.value)}})]}),Object(b.jsxs)("div",{className:"form-control form-control",children:[Object(b.jsx)("label",{children:"Easy bonus (%)"}),Object(b.jsx)("input",{type:"number",value:V,onChange:function(e){return G(e.currentTarget.value)}})]}),Object(b.jsxs)("div",{className:"form-control form-control",children:[Object(b.jsx)("label",{children:"Interval modifier (%)"}),Object(b.jsx)("input",{type:"number",value:z,onChange:function(e){return J(e.currentTarget.value)}})]}),Object(b.jsxs)("div",{className:"form-control form-control",children:[Object(b.jsx)("label",{children:"Maximum interval"}),Object(b.jsx)("input",{type:"number",value:q,onChange:function(e){return X(e.currentTarget.value)}})]})]})]})]}),Object(b.jsxs)("div",{className:"center",children:[Object(b.jsx)(u.b,{to:"/home",className:"back-link",children:"Back"}),Object(b.jsx)("input",{type:"submit",value:"Save settings",className:"btn btn-block"})]})]})]})},V=function(e){var t=e.tableItem;return e.headers.map((function(e,r){return Object(b.jsx)("td",{children:t[e.objectProperty]},r)}))},G=function(e){var t=e.tableData,r=e.className,c=e.headers,n=e.showHeaders;return Object(b.jsx)("table",{className:r,children:Object(b.jsxs)("tbody",{children:[n&&c.length>0&&Object(b.jsx)("tr",{children:c.map((function(e,t){return e.columnName&&Object(b.jsx)("th",{children:e.columnName},t)}))}),t.map((function(e,t){return Object(b.jsx)("tr",{children:Object(b.jsx)(V,{headers:c,tableItem:e},t)})}))]})})};G.defaultProps={className:"",headers:[],showHeaders:!0};var W=G,Y=function(e,t,r,c){var n,a=[],s=function(){var s=e[n];s.flashcards=C(s);var o=Object.create(s);t.deckId===s.deckId?s.select=Object(b.jsxs)("button",{className:"td-click",onClick:null,children:[s.name,Object(b.jsx)("em",{children:" (Selected)"})]}):s.select=Object(b.jsx)("button",{className:"td-click",onClick:function(){return r(o)},children:s.name}),s.select=Object(b.jsx)("button",{className:"td-click",onClick:t.deckId===s.deckId?null:function(){return r(o)},children:t.deckId===s.deckId?Object(b.jsxs)(b.Fragment,{children:[s.name,Object(b.jsx)("em",{children:" (Selected)"})]}):s.name}),s.wordCount=s.flashcards.length,s.dueCount=s.flashcards.filter((function(e){return e.dueDate<=(new Date).toJSON()})).length,s.deleteButton=Object(b.jsx)(g,{className:"btn minimal",text:"Delete",color:"#85144b",onClick:function(){return function(e){Object(F.confirmAlert)({title:"Delete: ".concat(e.name),message:"Are you sure you want to delete the deck ".concat(e.name,"? this cannot be undone"),buttons:[{label:"Yes",onClick:function(){return c(e.deckId)}},{label:"No",onClick:function(){return null}}]})}(s)}}),a.push(s)};for(n=0;n<e.length;n++)s();return a};var z=function(){var e=Object(p.b)(),t=e.isAuthenticated,r=e.isLoading,n=Object(c.useState)(null),a=Object(d.a)(n,2),s=a[0],h=a[1],f=U("users?authIdentifier=",s,"user"),x=f.data,m=f.isPending,v=f.error,g=Object(c.useState)(null),w=Object(d.a)(g,2),y=w[0],S=w[1],T=Object(c.useState)(null),I=Object(d.a)(T,2),P=I[0],E=I[1],F=Object(c.useCallback)((function(e){var t=e.find((function(e){return e.deckId===x.defaultDeckId}));if(void 0===t){var r=e.reduce((function(e,t){return e.dueDate>t.dueDate?e:t}));return r.flashcards=C(r),r}return t.flashcards=C(t),t}),[x.defaultDeckId]);Object(c.useEffect)((function(){x&&!m&&x.decks&&S(x.decks)}),[x,m]),Object(c.useEffect)((function(){if(x&&!m&&y&&!P&&y.length>0){var e=F(y);E(e)}}),[y,P,m,x,F]),Object(c.useEffect)((function(){x&&(console.log(x),h(null))}),[x]);var A=function(){var e=Object(i.a)(o.a.mark((function e(t){var r,c,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.userId=x.userId,e.next=3,N("decks/","POST",t);case 3:r=e.sent,c=r.dataFromServer,(n=r.error)?console.log(n):(c.flashcards=[],E(c),S([].concat(Object(l.a)(y),[c])));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),L=function(){var e=Object(i.a)(o.a.mark((function e(t){var r,c,n,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N("decks/".concat(t),"DELETE");case 2:r=e.sent,(c=r.error)?console.log(c):(n=y.filter((function(e){return e.deckId!==t})),S(n),t===P.deckId&&(a=F(n),E(a)));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(b.jsx)(u.a,{children:Object(b.jsxs)(b.Fragment,{children:[console.log(v),Object(b.jsx)(O,{isAuthenticated:t,isLoading:r}),!m&&Object(b.jsxs)("nav",{className:"border-2 border-bookBlue flex justify-evenly p-2 bg-white   text-2xl ",children:[Object(b.jsxs)(u.c,{className:"hover:text-viola-600",activeClassName:"font-semibold",to:"/home",children:[Object(b.jsx)("svg",{className:"w-6 inline-block",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:Object(b.jsx)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})}),"Home"]}),Object(b.jsxs)(u.c,{className:"hover:text-viola-600",activeClassName:"font-semibold",to:"/decks/add",children:[Object(b.jsx)("svg",{className:"w-6 inline-block",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:Object(b.jsx)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 9v3m0 0v3m0-3h3m-3 0H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Create new deck"]}),Object(b.jsxs)(u.c,{className:"hover:text-viola-600",activeClassName:"font-semibold",to:"/decks/change",children:[Object(b.jsx)("svg",{className:"w-6 inline-block",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:Object(b.jsx)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 7h12m0 0l-4-4m4 4l-4 4m0 6H4m0 0l4 4m-4-4l4-4"})}),"Change deck"]}),Object(b.jsxs)(u.c,{className:"hover:text-viola-600",activeClassName:"font-semibold",to:"/User/Settings",children:[Object(b.jsx)("svg",{className:"w-6 inline-block",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:Object(b.jsx)("path",{"fill-rule":"evenodd",d:"M11.49 3.17c-.38-1.56-2.6-1.56-2.98 0a1.532 1.532 0 01-2.286.948c-1.372-.836-2.942.734-2.106 2.106.54.886.061 2.042-.947 2.287-1.561.379-1.561 2.6 0 2.978a1.532 1.532 0 01.947 2.287c-.836 1.372.734 2.942 2.106 2.106a1.532 1.532 0 012.287.947c.379 1.561 2.6 1.561 2.978 0a1.533 1.533 0 012.287-.947c1.372.836 2.942-.734 2.106-2.106a1.533 1.533 0 01.947-2.287c1.561-.379 1.561-2.6 0-2.978a1.532 1.532 0 01-.947-2.287c.836-1.372-.734-2.942-2.106-2.106a1.532 1.532 0 01-2.287-.947zM10 13a3 3 0 100-6 3 3 0 000 6z","clip-rule":"evenodd"})}),"User settings"]})]}),Object(b.jsxs)("main",{className:"px-16 py-6 bg-gray-100",children:[r?Object(b.jsxs)("button",{type:"button",class:"bg-rose-600",disabled:!0,children:[Object(b.jsx)("svg",{class:"animate-spin h-5 w-5 mr-3",viewBox:"0 0 24 24"}),"jesus Loading"]}):Object(b.jsx)(j.b,{path:"/",exact:!0,children:Object(b.jsx)(b.Fragment,{children:t?m?Object(b.jsxs)("button",{type:"button",class:"bg-rose-600",disabled:!0,children:[Object(b.jsx)("svg",{class:"animate-spin h-5 w-5 mr-3",viewBox:"0 0 24 24"}),"Loading ... "]}):Object(b.jsx)(j.a,{to:"/home"}):Object(b.jsx)(j.a,{to:"/welcome"})})}),Object(b.jsx)(j.b,{path:"/welcome",children:Object(b.jsx)(k,{})}),Object(b.jsx)(j.b,{path:"/home",children:P?Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(B,{currentDeck:P,decks:y,setDecks:S,setCurrentDeck:E,userProfile:x}),Object(b.jsx)("div",{className:"flex justify-center text-4xl",children:Object(b.jsx)("div",{className:" p-4 w-1/2 flex justify-center text-center",children:Object(b.jsx)(u.b,{className:"h-12 w-40 btn text-8xl transition-colors duration-150 bg-puertoRico-300 border focus:shadow-outline hover:bg-puertoRico-100",to:"/flashcards",children:"Start"})})})]}):t?Object(b.jsx)("h1",{children:"No decks, create one to get started"}):null}),Object(b.jsx)(j.b,{path:"/User/Settings",children:x&&x.decks?Object(b.jsx)(R,{userProfile:x,setUpdatedUserProfile:h}):null}),t&&x?Object(b.jsx)(j.b,{path:"/decks/add",children:Object(b.jsx)("div",{className:"container blue-border",children:Object(b.jsx)(M,{processDeck:A,headerText:"Create new deck:"})})}):null,Object(b.jsx)(j.b,{path:"/decks/change",children:y&&P?Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("header",{children:Object(b.jsx)("h4",{children:"Change deck:"})}),Object(b.jsxs)("div",{className:"container blue-border",children:[y.length>0?Object(b.jsx)(W,{className:"deck-table",tableData:Y(y,P,E,L),headers:[{columnName:"Name",objectProperty:"select"},{columnName:"Words",objectProperty:"wordCount"},{columnName:"Due",objectProperty:"dueCount"},{objectProperty:"deleteButton"}]}):Object(b.jsx)("h3",{children:"No decks yet, create deck to get started"}),Object(b.jsx)("div",{className:"center",children:Object(b.jsx)(u.b,{className:"back-link",to:"/home",children:"Back"})})]})]}):null}),Object(b.jsx)(j.b,{path:"/Flashcards",children:t&&Object(b.jsx)("div",{className:"container",children:P&&Object(b.jsx)(b.Fragment,{children:Object(b.jsx)(D,{userProfile:x,currentDeck:P,setCurrentDeck:E})})})})]}),Object(b.jsx)("footer",{className:"border-t-4 border-white bg-bookBlue",children:"This is the footer"})]})})},J=function(e){e&&e instanceof Function&&r.e(3).then(r.bind(null,53)).then((function(t){var r=t.getCLS,c=t.getFID,n=t.getFCP,a=t.getLCP,s=t.getTTFB;r(e),c(e),n(e),a(e),s(e)}))},K=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_AUTH0_DOMAIN:"dev-hduvcad5.eu.auth0.com",REACT_APP_AUTH0_CLIENT_ID:"ydn3VofQC2OxQqkk52ILkJADCWvT3PoA"}).local.REACT_APP_AUTH0_DOMAIN,Q=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_AUTH0_DOMAIN:"dev-hduvcad5.eu.auth0.com",REACT_APP_AUTH0_CLIENT_ID:"ydn3VofQC2OxQqkk52ILkJADCWvT3PoA"}).local.REACT_APP_AUTH0_CLIENT_ID;a.a.render(Object(b.jsx)(p.a,{domain:K,clientId:Q,redirectUri:window.location.origin,children:Object(b.jsx)(z,{})}),document.getElementById("root")),J()}},[[52,1,2]]]);
//# sourceMappingURL=main.b30d20f1.chunk.js.map